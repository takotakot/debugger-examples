# 各環境でのコーディング指示テンプレート

## 概要

このテンプレートは、各環境でエージェントにコーディングを依頼する際に使用する。

## メタな内容

このブランチでは、「言語名」と「実行環境」と「テストフレームワーク」で、ユニットテストを実行する。
例えば、以下のような内容を埋めて指示する。

- 言語名: TypeScript
- 実行環境: Nodejs
- テストフレームワーク: Jest

上記に対応して、`ts_node_jest.md` のようなファイルを、`skeleton.md` からコピーして作成する。

GitHub Codespaces のデフォルト状態で不足しているパッケージは、環境に加える必要がある。実行内容は逐一、各環境のファイルに記載する。

各環境を構築したい場合は「指示内容」を Copilot Agent 等に依頼する。

## 指示内容

このブランチでは、「言語名」と「実行環境」と「テストフレームワーク」で、ユニットテストを実行する仕組みを実装する。

`skeleton.md` をコピーして、`ts_node_jest.md` のようなファイルを作成せよ。

上記を Git commit せよ。

まずは、言語ランタイムをインストールする必要がある。上記環境に必要なパッケージを追加し、存在を検証せよ。

言語ランタイムのインストールで行ったコマンドを、環境の準備手順に記載せよ。

以下の3関数を実装せよ。ただし、後でユニットテストを実行するため、モジュールのエクスポートを行う、public な関数にする等、各環境に応じた工夫を行え。

- 常に 0 を返す関数 `sum_to_n(n)`
- 常に与えられた配列を返す関数 `bubble_sort(array)`
- 常に 0 を返す関数 `fibonacci(n)`

3関数を実装したら、Git commit せよ。

テストフレームワークを導入せよ。

テストフレームワークの導入で行ったコマンドを、環境の準備手順に記載せよ。

<!-- 以下、関数の指定はいずれかを選んで、繰り返す -->

これから、TDD の考え方で、まずユニットテストを実装する。その後、各関数を「正しい関数」に再実装する。

今から、整数の合計を計算する関数「`sum_to_n(n)`」を実装する。
今から、バブルソートを行う関数「`bubble_sort(array)`」を実装する。
今から、フィボナッチ数列を計算する関数「`fibonacci(n)`」を実装する。

整数の合計を計算する関数において、ユニットテストの条件は以下とする。

- 入力: 10
- 出力: 55

バブルソートを行う関数において、ユニットテストの条件は以下とする。

- 入力: [5, 3, 8, 1, 2]
- 出力: [1, 2, 3, 5, 8]

フィボナッチ数列を計算する関数において、ユニットテストの条件は以下とする。

- 入力: 8
- 出力: 21

ユニットテストを作成した段階では、失敗して構わないので、関数を呼び出すだけのユニットテストを実装し、ユニットテストを実行し、テストがエラーで終了したことを確認して、Git commit せよ。
ただし、コンパイルできていない場合や、そもそもテストが実行できない場合は、エラーを解決してから Git commit せよ。

本来期待される関数の疑似コードは、`copilot-instructions.md` に記載されている。
関数を正しい実装に書き換え、テストを実行して、テストが成功することを確認せよ。
その後、Git commit せよ。

## 再度、メタな内容

3関数の実装が完了したら、デバッガ関連の拡張機能をインストールする。インストールした拡張機能は「拡張機能」セクションに記載する。

デバッガでステップ実行を行う手順のうち、実行環境の整備については、「このリポジトリを参考にデバッガを使う人」の各環境において設定が必要であるから、「環境の準備」セクションに改めて記載する。
また、デバッガのために追加で環境に必要な設定があれば、環境の準備手順に記載する。例えば、Go 言語であれば、`dlv` をインストールする手順を記載する。

上記記載後、Git commit せよ。

続いて、デバッガの設定を行う。例えば、`launch.json` を作成し、必要な内容を記載する手順を記す。実際にデバッガを起動してみて、そのコマンドを「デバッガの開始」セクションに記載する。

上記記載後、「デバッガの設定」と「デバッガの開始」それぞれ別の commit として、Git commit せよ。
